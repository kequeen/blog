# redis
redis其实也是一种存储，虽然大家很多时候认为其是缓存，但缓存与存储的界限，很多时候并没有我们想的这般泾渭分明。

## 关于redis的高可用架构
我们知道，单机的redis，无论你如何去保证其可用性，比如AOF和RDB，但物理机终究有损坏的可能性，宕机会造成服务端不可能，机器物理损坏则会造成数据的丢失。
并且单机的物理容量有限，无论你硬盘和内存再怎么扩，单个物理机也还是有上限的。

### 集群方案
#### 主从方案
主要问题有以下几点：
1. 无法横向扩容与自动恢复
2. 在线纵向扩容困难，需要停机
3. 主机宕机可能会导致数据不同步的问题
4. 宕机重启后会影响master的IO

#### Sentinel方案
可以自动恢复，但始终没办法解决扩容的问题


#### 集群方案
没有采用一致性hash的方案，这是比较让我觉得意外的

redis一致性hash一般是客户端方案，redis的hash槽是服务端方案


分布式架构：
1、可自动扩缩容
2、高可用，数据不易丢失


## 文档
1. <http://www.redis.cn/topics/sentinel.html>
2. <http://www.redis.cn/topics/cluster-tutorial.html>